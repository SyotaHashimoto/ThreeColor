相談メモ (2022.02.01)

(1) 色について (reviewer 1,2)
問題点1：印刷時に色が出せるのか？
問題点2：コードの red,blu,yel と論文の色がズレるので読みにくい
--> マスの中に R,G,B と書く (とりあえず色は黒白灰のままで進める)

(2) 構成について
問題点：Sec.2はよいが，Sec.3とSec.4が読みにくい
-->
- 各セクションの意図が見えるように整理をする
- 整理したセクションに基づいてソースコードの説明を論文でするように心掛ける．
- Sec3の最初にソースコードの全体の構成を書く．例えば以下のように書いて説明をする．
---------
形式化のコードは以下のような構成になっている：
sectionごとで説明する．証明が明確に構造化される
TCTP_definitions: 色やmixやwellcoloredtriangleを定義をしている
TCTP: 
allred: TCTPのサブセクション．色やmixやwellcoloredtriangleを定義をしている
TCTP_nec_even: 必要条件偶数の場合．最下端が赤であることを示している．そのための方針は allred を使う．
TCTP_nec_even: ...
---------
- その後で各セクションの細かい説明を書く(ソースコードをそのまま貼る)

(3) 幾何的な「直観」について
問題点：3.1の第一段落の書き方だと「幾何的な直観に基づく問題(と元の証明)」は何を指しているか分かりにくい
-->
三角形三色問題の問題設定には1つのマスに塗られる色は一色のみであることや各マスには必ずどれかの色が塗られるなどの幾何的な直観に基づく暗黙の前提がある．
数学セミナーの証明や2節の証明はこれらの暗黙の前提を用いた人間が行う証明であったが，Coqで形式化する際にはこの前提を適切に反映した方法を選ぶ必要がある．

(4) 節4で説明している細かい自然数による場合分けなどが(元の証明で)説明されていたか？
--> Yes. 数学セミナーの証明でも場合分けをしている．

(5) 紙上の証明に対して(この論文は)何を貢献しているか明確にできるか？
--> 
(5.1) [数学セミナー ~=~ 節2] !! Coq -->「Coq で書いた」が貢献
(5.2) 数学セミナー !! [節2 ~=~ Coq] -->「雑な証明をちゃんと書き起こした＋Coq で書いた」が貢献
(5.3) 数学セミナーの証明との比較：
- 十分条件の方は予測が成立する段数の数列(全てかどうかは分からない)を作ってその一般項を求める方法で 3^k を求めている．
  本論文の節2では 3^k が予測が成立する(全てかどうかは分からない)段数を与えていることを帰納法で示した．
  帰納法の仮定が数列の漸化式になっているので本質的には同じ．
- 必要条件の方は n が偶数，奇数(長)，奇数(短)で場合分けをして，それぞれ反例を与えている．対偶で必要条件を示している．
  節2も同様の証明方法をしている．
(5.4) どうやら(5.1)になりそう．
(5.5) Coq の証明と節2の証明の差は何か？

(6) 半年前の自分にアドバイスをしてもっと早く今のバージョンに到達させるには何を言えばよいのか？


工夫と恩恵
- マスの色塗り方法を関数 Cpos を用いて形式化した．論理式 Cpos'(x,y,col) とそれが満たす公理(各マスには一色だけ塗られているなど)を用いて形式化して証明を与えること自体は可能だが，論理式の操作が必要となり，非本質的で回りくどい議論によって証明の本質が見えにくくなる．関数を用いた形式化により等式操作が可能となり，ssreflect の恩恵を受けることができた．
- 場合分けにおいて同じことの機械的な操作の繰り返しで処理できる部分は ssreflect? で短く記述することができたことが恩恵の1つ．例を挙げる．
- Sectionを用いることで証明を構造化した．
これにより仮定を共有する複数の主張をグループ化したり，ある定理を示すためだけに用いられる補題はセクションの中で局所化することで各主張の論理的な繋がりが明確になった．
(TCTP_nec_even とか TCTP_nec_longodd など)．


